# 象素社区“大屏推流”功能设计方案 (Design Proposal: Pixel Billboard Push)

## 1. 核心概述
“大屏推流”是一项旨在增强社区互动性、空间感及象素币经济价值的功能。它将原本抽象的“热门文章”转化为地图上的具象物理建筑——**像素大屏 (Pixel Billboard)**。玩家通过消耗象素币，可以将心仪的文章或帖子投放到全图可见的大屏上，实现“众筹推广”。

## 2. 核心逻辑

### 2.1 推流机制
- **动作名称**：推上大屏 (Push to Billboard)
- **触发条件**：在帖子详情页或预览卡片中增加“上屏”按钮。
- **代价系统**：
  - 每次推流扣除固定额度的 **象素币**。
  - 推流不再基于算法自动筛选，而是基于玩家的主动“赞助”频率和权重。
- **竞争规则**：
  - 大屏实行“权重衰减制”。每推流一次，该文章在大屏上的停留时间增加。
  - 多个玩家可以为同一篇文章加热，累积热度。

### 2.2 管理后台配置
管理员可在 `/admin/workstations` (或专用配置页) 对此功能进行全局调优：
- **`HOT_BILLBOARD_COST`**：单次推流所需的象素币数量（默认：50 象素币）。
- **`HOT_BILLBOARD_DURATION`**：推流热度的基础衰减时长（例如：1单位热度持续1小时）。
- **`MAX_POSTS_ON_SCREEN`**：大屏循环滚动的文章最大数量（例如：前3篇）。

## 3. 地图交互 (Gameplay Integration)

### 3.1 实体设计 (Sprite)
- 在地图的关键坐标（如出生点、中央广场、高密度工位区）放置 **像素大屏实体**。
- **视觉反馈**：
  - 空闲时：显示像素工坊 Logo 或社区规则。
  - 有内容时：显示文章标题缩略图、作者名及“推流人”信息。
  - 带有呼吸灯霓虹效果（赛博朋克风）。

### 3.2 碰撞交互
- **监听区域**：当玩家进入大屏周围 3-5 格范围。
- **交互动作**：
  - 不必点击，自动弹出非侵入式的“社区头条”预览小窗。
  - 预览窗显示文章简述、点赞数及直接阅读按钮。

## 4. 技术实现路线

### 4.1 数据层 (Backend)
- 在 `Post` 模型或单独的 `BillboardQueue` 表中记录推流权值。
- 新增 API：`POST /api/posts/[id]/promote` 实现扣费及权值累加。

### 4.2 前端层 (Frontend & Phaser)
- **管理端**：在 `AdminSettings` 中增加相关键值对配置界面。
- **游戏端**：在 `WorkstationManager.js` 或 `MapOverlay` 中引入大屏实体。
- **UI端**：开发专门用于大屏展示的“头条小框”组件。

## 5. 预期影响
1. **活跃度**：玩家为了让自己写的文章“上屏”，会更有动力积累象素币。
2. **社区感**：大屏成为了社区的公共讨论中心，增加了玩家在地图上的停留时长。
3. **经济平衡**：作为象素币的主要消耗途径，有助于抑制货币贬值。
